#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ðŸš€ Running pre-commit hooks..."

# Run lint-staged for staged files
npx lint-staged

# Run tests related to changed files
echo "ðŸ§ª Running tests..."
npm test -- --watchAll=false --passWithNoTests --findRelatedTests $(git diff --cached --name-only --diff-filter=ACM | grep -E '\.(js|jsx|ts|tsx)$' | xargs)

echo "âœ… Pre-commit checks completed!"
